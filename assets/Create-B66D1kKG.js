import{_ as se,r as i,c as ae,a as u,o as r,b as s,d as t,e as m,w as l,f as a,u as I,g as S,h as o,F as O,i as T,j as oe,n as ne,k as re,E as R}from"./index-BruAy4jv.js";const ue={class:"create-container"},de={class:"studio-background"},ce={key:0,class:"step-content"},ie={key:0,class:"preview"},pe={class:"reference-options"},_e={class:"reference-grid"},me=["onClick"],ve={class:"step-actions"},fe={key:1,class:"step-content"},ge={class:"step-actions"},be={key:2,class:"step-content"},ye={key:0,class:"generating"},ke={key:1,class:"results"},he={class:"result-actions"},Ce={class:"step-actions"},we={__name:"Create",setup(Ve){const $=oe(),p=i(0),v=i(""),U=i("upload"),f=i(null),k=i(!1),h=i(0),d=i({style:"",requirements:""}),z=i([{url:"https://images.unsplash.com/photo-1600618528240-fb9fc964b853",style:"traditional"},{url:"https://images.unsplash.com/photo-1469334031218-e382a71b716b",style:"modern"},{url:"https://images.unsplash.com/photo-1621184455862-c163dfb30e0f",style:"artistic"}]),g=i([]),L=ae(()=>v.value&&f.value),A=c=>{v.value=URL.createObjectURL(c.raw)},G=c=>{f.value={url:URL.createObjectURL(c.raw),style:"custom"}},M=c=>{f.value=c},D=()=>{L.value?p.value++:R.warning("请上传头像并选择参考图")},P=()=>{p.value--},B=()=>{if(!d.value.style){R.warning("请选择写真风格");return}p.value++,k.value=!0;const c=setInterval(()=>{h.value+=10,h.value>=100&&(clearInterval(c),k.value=!1,g.value=[{url:"https://images.unsplash.com/photo-1600618528240-fb9fc964b853",style:d.value.style},{url:"https://images.unsplash.com/photo-1469334031218-e382a71b716b",style:d.value.style},{url:"https://images.unsplash.com/photo-1621184455862-c163dfb30e0f",style:d.value.style}])},500)},H=c=>{R.success("保存成功")},J=()=>{g.value=[],B()},K=()=>{$.push("/my-photos")};return(c,e)=>{const C=a("el-step"),Q=a("el-steps"),N=a("el-icon"),j=a("el-upload"),w=a("el-image"),b=a("el-card"),V=a("el-col"),q=a("el-tab-pane"),W=a("el-scrollbar"),X=a("el-tabs"),E=a("el-row"),_=a("el-button"),y=a("el-radio-button"),Y=a("el-radio-group"),F=a("el-form-item"),Z=a("el-input"),ee=a("el-form"),te=a("el-progress");return r(),u("div",ue,[s("div",de,[e[20]||(e[20]=s("h1",{class:"studio-title"},"生成写真",-1)),e[21]||(e[21]=s("div",{class:"create-description"},[s("p",null,"上传照片，选择参考图，创作您的专属写真")],-1)),t(Q,{active:p.value,"finish-status":"success",class:"create-steps"},{default:l(()=>[t(C,{title:"上传照片"}),t(C,{title:"选择风格"}),t(C,{title:"生成结果"})]),_:1},8,["active"]),p.value===0?(r(),u("div",ce,[t(E,{gutter:30},{default:l(()=>[t(V,{span:12},{default:l(()=>[t(b,{class:"upload-card"},{header:l(()=>e[3]||(e[3]=[s("div",{class:"card-header"},[s("h3",null,"上传头像"),s("p",{class:"upload-tip"},"请上传正面清晰的照片")],-1)])),default:l(()=>[t(j,{class:"upload-area",drag:"",action:"#","auto-upload":!1,"on-change":A},{default:l(()=>[t(N,{class:"el-icon--upload"},{default:l(()=>[t(I(S))]),_:1}),e[4]||(e[4]=s("div",{class:"el-upload__text"},[o(" 拖拽文件到此处或 "),s("em",null,"点击上传")],-1))]),_:1}),v.value?(r(),u("div",ie,[e[5]||(e[5]=s("h4",null,"预览",-1)),t(w,{src:v.value,fit:"cover",class:"preview-image"},null,8,["src"])])):m("",!0)]),_:1})]),_:1}),t(V,{span:12},{default:l(()=>[t(b,{class:"upload-card"},{header:l(()=>e[6]||(e[6]=[s("div",{class:"card-header"},[s("h3",null,"选择参考图"),s("p",{class:"upload-tip"},"选择或上传参考图片")],-1)])),default:l(()=>[s("div",pe,[t(X,{modelValue:U.value,"onUpdate:modelValue":e[0]||(e[0]=n=>U.value=n)},{default:l(()=>[t(q,{label:"上传参考图",name:"upload"},{default:l(()=>[t(j,{class:"upload-area",drag:"",action:"#","auto-upload":!1,"on-change":G},{default:l(()=>[t(N,{class:"el-icon--upload"},{default:l(()=>[t(I(S))]),_:1}),e[7]||(e[7]=s("div",{class:"el-upload__text"},[o(" 拖拽文件到此处或 "),s("em",null,"点击上传")],-1))]),_:1})]),_:1}),t(q,{label:"推荐参考图",name:"recommended"},{default:l(()=>[t(W,{height:"300px"},{default:l(()=>[s("div",_e,[(r(!0),u(O,null,T(z.value,(n,x)=>(r(),u("div",{key:x,class:ne(["reference-item",{selected:f.value===n}]),onClick:le=>M(n)},[t(w,{src:n.url,fit:"cover"},null,8,["src"])],10,me))),128))])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1}),s("div",ve,[t(_,{type:"primary",onClick:D,disabled:!L.value},{default:l(()=>e[8]||(e[8]=[o(" 下一步 ")])),_:1},8,["disabled"])])])):m("",!0),p.value===1?(r(),u("div",fe,[t(b,{class:"style-card"},{default:l(()=>[t(ee,{model:d.value,"label-width":"100px"},{default:l(()=>[t(F,{label:"写真风格"},{default:l(()=>[t(Y,{modelValue:d.value.style,"onUpdate:modelValue":e[1]||(e[1]=n=>d.value.style=n)},{default:l(()=>[t(y,{label:"traditional"},{default:l(()=>e[9]||(e[9]=[o("古风写真")])),_:1}),t(y,{label:"modern"},{default:l(()=>e[10]||(e[10]=[o("现代写真")])),_:1}),t(y,{label:"artistic"},{default:l(()=>e[11]||(e[11]=[o("艺术写真")])),_:1}),t(y,{label:"anime"},{default:l(()=>e[12]||(e[12]=[o("动漫风格")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(F,{label:"其他要求"},{default:l(()=>[t(Z,{modelValue:d.value.requirements,"onUpdate:modelValue":e[2]||(e[2]=n=>d.value.requirements=n),type:"textarea",placeholder:"请输入其他具体要求",rows:"4"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1}),s("div",ge,[t(_,{onClick:P},{default:l(()=>e[13]||(e[13]=[o("上一步")])),_:1}),t(_,{type:"primary",onClick:B},{default:l(()=>e[14]||(e[14]=[o("生成写真")])),_:1})])])):m("",!0),p.value===2?(r(),u("div",be,[k.value?(r(),u("div",ye,[t(te,{type:"circle",percentage:h.value},null,8,["percentage"]),e[15]||(e[15]=s("p",null,"正在生成您的写真，请稍候...",-1))])):g.value.length>0?(r(),u("div",ke,[t(E,{gutter:20},{default:l(()=>[(r(!0),u(O,null,T(g.value,(n,x)=>(r(),re(V,{span:8,key:x},{default:l(()=>[t(b,{class:"result-card",shadow:"hover"},{default:l(()=>[t(w,{src:n.url,fit:"cover",class:"result-image"},null,8,["src"]),s("div",he,[t(_,{type:"primary",onClick:le=>H(n)},{default:l(()=>e[16]||(e[16]=[o("保存")])),_:2},1032,["onClick"]),t(_,{onClick:J},{default:l(()=>e[17]||(e[17]=[o("重新生成")])),_:1})])]),_:2},1024)]),_:2},1024))),128))]),_:1})])):m("",!0),s("div",Ce,[t(_,{onClick:P},{default:l(()=>e[18]||(e[18]=[o("返回修改")])),_:1}),t(_,{type:"primary",onClick:K},{default:l(()=>e[19]||(e[19]=[o("完成")])),_:1})])])):m("",!0)])])}}},Re=se(we,[["__scopeId","data-v-35757c05"]]);export{Re as default};
